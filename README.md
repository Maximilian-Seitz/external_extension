# External Extension

This project offers an annotation that generates an extension function, that manages extension functions of children of that type.

As an example, this is code as it might appear in a project:

```kotlin
fun Vector.scale(multiplier: Float) = when(this) {
	is Vector1D -> this.scale(multiplier)
	is Vector2D -> this.scale(multiplier)
	is Vector3D -> this.scale(multiplier)
	else -> throw NotImplementedError("Extension method not implemented for ${this::class}.")
}

fun Vector1D.scale(multiplier: Float): Vector = Vector1D(multiplier * length)

fun Vector2D.scale(multiplier: Float): Vector = Vector2D(multiplier * x, multiplier * y)

fun Vector3D.scale(multiplier: Float): Vector = Vector3D(multiplier * x, multiplier * y, multiplier * z)
```

In this example, `Vector` would be an interface with some implementations, that all (or relevant ones) have the same extension function.
In order to call that extension function on the `Vector` interface, it also needs an extension function, that calls the seperate impelmentations.
This is the code which is generated by the offered annotation.

With the annotation, the code block above will look like this, instead:

```kotlin
@ExternalExtension(Vector::class)
fun Vector1D.scale(multiplier: Float): Vector = Vector1D(multiplier * length)

@ExternalExtension(Vector::class)
fun Vector2D.scale(multiplier: Float): Vector = Vector2D(multiplier * x, multiplier * y)

@ExternalExtension(Vector::class)
fun Vector3D.scale(multiplier: Float): Vector = Vector3D(multiplier * x, multiplier * y, multiplier * z)
```


## Alternate names

If not all implementations have the same function name,
an alternate name can be provided, like this:

```kotlin
@ExternalExtension(Vector::class, superName = "scale")
fun Vector1D.multiply(multiplier: Float): Vector = Vector1D(multiplier * length)

@ExternalExtension(Vector::class)
fun Vector2D.scale(multiplier: Float): Vector = Vector2D(multiplier * x, multiplier * y)

@ExternalExtension(Vector::class)
fun Vector3D.scale(multiplier: Float): Vector = Vector3D(multiplier * x, multiplier * y, multiplier * z)
```